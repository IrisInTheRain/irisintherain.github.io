

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="姚麟">
  <meta name="keywords" content="">
  
    <meta name="description" content="Finally, it’s time to make a video game! However, it seems that the time is limited and the holiday is approaching… So, I just finished the game but left nothing recorded. The content below will be al">
<meta property="og:type" content="article">
<meta property="og:title" content="Raindrops keep falling on my head (Unity Archive Game)">
<meta property="og:url" content="https://rainyiris.cc/2019/01/09/Unity-Archive-Game/index.html">
<meta property="og:site_name" content="Iris&#39; Wonderland">
<meta property="og:description" content="Finally, it’s time to make a video game! However, it seems that the time is limited and the holiday is approaching… So, I just finished the game but left nothing recorded. The content below will be al">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://rainyiris.cc/img/Unity-Archive-Game-begin.jpg">
<meta property="article:published_time" content="2019-01-09T02:31:15.000Z">
<meta property="article:modified_time" content="2023-07-05T14:21:17.730Z">
<meta property="article:author" content="姚麟">
<meta property="article:tag" content="旧文章">
<meta property="article:tag" content="学习">
<meta property="article:tag" content="设定">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://rainyiris.cc/img/Unity-Archive-Game-begin.jpg">
  
  
  
  <title>Raindrops keep falling on my head (Unity Archive Game) - Iris&#39; Wonderland</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"rainyiris.cc","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>雨天艾莉丝的奇幻仙境</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/ai01.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Raindrops keep falling on my head (Unity Archive Game)"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2019-01-09 10:31" pubdate>
          2019年1月9日 上午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          5.4k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          46 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Raindrops keep falling on my head (Unity Archive Game)</h1>
            
            
              <div class="markdown-body">
                
                <p>Finally, it’s time to make a video game! However, it seems that the time is limited and the holiday is approaching… So, I just finished the game but left nothing recorded. The content below will be almost the same as the report, except a video of an unfinished version and the detailed information on level design, which I forget to discuss. Hmmm, forgive me!</p>
<p><img src="/img/Unity-Archive-Game-begin.jpg" srcset="/img/loading.gif" lazyload></p>
<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Generally, it is a 3D parkour game with a small but obscure story. All interactions are using WASD to control a robot to evade objects flying by. There is a force pushing the robot down, and the robot will automatically stop without getting gears, so keep moving until reach the end. There is the truth waiting for you.</p>
<h1 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h1><p>I want to make a relatively complete game. So, in such a short time, it is suitable to choose simple mechanisms. I also want to present something of myself – I always use iris as the nickname online because of a light novel. Therefore, I may retell the story with my game.</p>
<h1 id="Case-Study"><a href="#Case-Study" class="headerlink" title="Case-Study"></a>Case-Study</h1><h2 id="Iris-in-the-rain"><a href="#Iris-in-the-rain" class="headerlink" title="Iris in the rain"></a>Iris in the rain</h2><p>‘Iris in the rain’ is one of my favorite light novels. It tells a story about a robot girl called ‘Iris’ accidentally abandoned by her master. Her ‘heart’ was put into a cleaning robot like Wall-E. Because the monitor was broken, she could see black lines moving through her view like it was raining day and night.</p>
<p>Actually, I don’t know why I am so into the novel. I just dreamt about the plot and thought it is part of mine since I am in middle school. The broken gears of the robot or the endless rain give me the feeling of sorrow and beauty. I always want to display the scenes with my works.​</p>
<p><img src="/img/Unity-Archive-Game-irisintherain.jpg" srcset="/img/loading.gif" lazyload></p>
<h2 id="Fairyland-Story"><a href="#Fairyland-Story" class="headerlink" title="Fairyland Story"></a>Fairyland Story</h2><p>It is a 2D parkour game made by a couple telling a fairytale of the little girl. The color and the shape of the elements are lovely. Also, the mechanisms are just getting stars and not hitting on edge.</p>
<p>The background of the game is turning around, and the character move vertical, which seems like the character is on a stage. It adds the feeling of a fairytale but a bit childish for what I want.</p>
<p>In the beginning, I might make a 2D platform jumping game. However, I cannot find a suitable object in the archive. After coming across this, I want to use a similar mechanism but make it more dangerous and exciting.</p>
<p><img src="/img/Unity-Archive-Game-fairylandstory.jpg" srcset="/img/loading.gif" lazyload></p>
<h2 id="Steampunk-Asset"><a href="#Steampunk-Asset" class="headerlink" title="Steampunk Asset"></a>Steampunk Asset</h2><p>It is an asset I find in the unity store. I want to learn and improve the skill of how to build and render the scene. Also, I know in my game, there are gears and rain. To make the elements contrast with each other and form the feeling of both soft and hard, the art style of steampunk is suitable. So, I pick this asset as a reference. However, the real quality of it is not satisfied and what I got, at last, may just the steam to add atmosphere.</p>
<p><img src="/img/Unity-Archive-Game-steampunk.jpg" srcset="/img/loading.gif" lazyload></p>
<h1 id="Making-process"><a href="#Making-process" class="headerlink" title="Making process"></a>Making process</h1><h2 id="Modeling-and-animation"><a href="#Modeling-and-animation" class="headerlink" title="Modeling and animation"></a>Modeling and animation</h2><p>I chose some of the objects in the archive to build my tunnel and the obstructions. I copy, twist and combine them together to form a large machine. The seem-to-be endless tunnel gives players pressure and changing these peaceful objects into terrible shape.</p>
<p>The animation of the character is a bit stiff because its body is made of gears and cannot be animated in a regular way. Moreover, I fail to make the animation of the character spinning when she gets gears. (It would cause some problem with the camera.)</p>
<p>The gears also have been animated. However, the camera moves too fast to catch that…</p>
<p><img src="/img/Unity-Archive-Game-objects.jpg" srcset="/img/loading.gif" lazyload></p>
<h2 id="Programming"><a href="#Programming" class="headerlink" title="Programming"></a>Programming</h2><p>Because the mechanisms are simple, so I haven’t spent much time on thinking how to write. However, the idea of want to make a complete game is time-consuming. Everything from the beginning to the end should be considered.</p>
<p>(The script to let the character move around the center of the screen may be my brand-new invention. Aha!)</p>
<h2 id="Design"><a href="#Design" class="headerlink" title="Design"></a>Design</h2><h3 id="color"><a href="#color" class="headerlink" title="color"></a>color</h3><p>The grey and heavy background are formed with the objects twisted or combined in the archive. The obstruction and the character are bright and shining to contrast with the background.</p>
<p>I used to choose orange, blue and green as the primary color. However, in order to clearly present that the character gets the gears, I change the character into purple.</p>
<p><img src="/img/Unity-Archive-Game-iris.jpg" srcset="/img/loading.gif" lazyload></p>
<h3 id="light"><a href="#light" class="headerlink" title="light"></a>light</h3><p>There are three directional light and many point light to make the shadows complicated enough to add realism. On the contrary, the blooming effects and bright object make the scene unreal.</p>
<h3 id="character"><a href="#character" class="headerlink" title="character"></a>character</h3><p>The robot girl was a small one built with gears. After playtests, many players don’t know whether they are controlling the girl or the raindrop and even don’t she is a girl. Plus, it’s hard to see the animation of the character. So, then I change her into an order one.​</p>
<p><img src="/img/Unity-Archive-Game-irisb.jpg" srcset="/img/loading.gif" lazyload></p>
<h3 id="levels"><a href="#levels" class="headerlink" title="levels"></a>levels</h3><p>The main obstruction change shapes and the spin speed. Also, the distribution of gears is different and on the half way the force of rain will increase. The difficulty was different with these four factors changing. The gradient of difficulty is like this:</p>
<p><img src="/img/Unity-Archive-Game-chartoflevel.jpg" srcset="/img/loading.gif" lazyload></p>
<p>The third area is full of malice. The first half force players to move throw the holes of blade otherwise iris will lose speed; The second half cannot slow down to carefully move across fast blades due to too many gears.</p>
<h2 id="Optimization"><a href="#Optimization" class="headerlink" title="Optimization"></a>Optimization</h2><p>The first version of the game is too big because of the model - I made the long tunnel manually. To solve that, I cut it down into pieces, turn certain degrees and connect them together. After that, the game is about 1&#x2F;2 of the original.</p>
<h1 id="Playtest"><a href="#Playtest" class="headerlink" title="Playtest"></a>Playtest</h1><h2 id="Playtest-1"><a href="#Playtest-1" class="headerlink" title="Playtest 1"></a>Playtest 1</h2><p>The first playtest was done when the game was almost finished. However, I received two distinct evaluations. Edward thought it is too hard to continue and disappointed with the guidance. Mika could not move long distance as well, but he likes the art style and thought it’s a lovely game.</p>
<p>So, I tried to introduce the unclear part with words or animation. Also, I enlarge the detect area of gears to make it easier to get.</p>
<h2 id="Playtest-2"><a href="#Playtest-2" class="headerlink" title="Playtest 2"></a>Playtest 2</h2><p>The main complaints are still about difficulty. Then players also think the music does not much the picture.</p>
<p>However, I don’t want to change either of them.</p>
<p>About the difficulty, I don’t think it’s that frustrated. If it is entirely due to inadequate control, I may change my mind.</p>
<p>About the music, I want it to increase the feeling of contrast, and it matches the rhythm of push W.</p>
<h2 id="Playtest-3"><a href="#Playtest-3" class="headerlink" title="Playtest 3"></a>Playtest 3</h2><p>It helps to find some bugs:</p>
<ol>
<li><p>Characters can move after death.</p>
</li>
<li><p>The animation does not work under certain conditions.</p>
</li>
<li><p>Animation plays faster than expected.</p>
</li>
</ol>
<h1 id="Reflection"><a href="#Reflection" class="headerlink" title="Reflection"></a>Reflection</h1><p>This project teaches me serval truth below:</p>
<ol>
<li><p>It’s hard to make a complete game and make it in an elegant way. My code is terrible, and the way to make tunnel is also kind of stupid.</p>
</li>
<li><p>I should record things in time because sometimes ideas and thoughts just slipped away.</p>
</li>
<li><p>Never write the report right before the deadline.</p>
</li>
</ol>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%B1%82%E5%AD%A6/" class="category-chain-item">求学</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E6%97%A7%E6%96%87%E7%AB%A0/">#旧文章</a>
      
        <a href="/tags/%E5%AD%A6%E4%B9%A0/">#学习</a>
      
        <a href="/tags/%E8%AE%BE%E5%AE%9A/">#设定</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Raindrops keep falling on my head (Unity Archive Game)</div>
      <div>https://rainyiris.cc/2019/01/09/Unity-Archive-Game/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>姚麟</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2019年1月9日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2019/01/10/Wuxia&amp;Game/" title="What do we talk about when we talk about board games">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">What do we talk about when we talk about board games</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2019/01/01/FRS/" title="雾都的雨天没有下雪">
                        <span class="hidden-mobile">雾都的雨天没有下雪</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
